$(function(){$(".sns-login").click(function(){$("<div></div>").css({"background-color":"#000",top:"0px",left:"0px",opacity:0,position:"fixed",width:"100%",height:"100%","z-index":9999}).appendTo("body")});$('input[type="search"]').typeahead({source:"ABAP;ActionScript;Assembly x86;C;C++;COBOL;CoffeeScript;C#;CSS;Clojure;D;Dart;Erlang;Forth;Go;Groovy;Haskell;Haxe;HTML;Java;JavaScript;JSX;Lisp;LSL;Lua;MATLAB;MySQL;Objective-C;OCaml;Pascal;Perl;PHP;Prolog;Python;R;Ruby;Rust;Scala;Scheme;ShellScript;TypeScript;VBScript;Verilog;XML;XQuery".split(";")});
var a=$("#email");a.modal({keyboard:!0,backdrop:!1,show:!1});$(document).mousedown(function(){var a=document.getElementById("email");return function(b){$.contains(a,b.target)||$(a).modal("hide")}}());$('[href="#email"]').mousedown(function(){a.find("textarea").focus();a.find(".panel2").text("").hide();a.find(".send").show();a.find(".panel1").show()});a.find(".send").click(function(){var g=!1;return function(){var b=a.find("textarea").val();b&&!g&&(g=!0,$.post("/email/send.json",{body:b},function(b){g=
!1;a.find(".panel1").hide();a.find(".send").hide();a.find("textarea").val("");a.find(".panel2").text(b.msg).show()}))}}());a.find("form").submit(function(){return!1});$(function(){function a(c){$("#account").find(".result").text("\u5909\u66f4\u4e2d...");$.post("/mypage/nickname.json",{nickname:c},function(c){$(".user_info_nickname").text(c.nickname);$("#account").find(".result").text("\u5909\u66f4\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01")})}function b(c,e,a){h=!0;var b=$("#"+c),d={p:e};e||
b.find(".user-list").html("");a&&(d.s=a);$.get("/mypage/"+c+".json",d,function(a){var e;e=0<a.html[2].length?m(a.html):m(["div","",["div","",k]]);b.find(".user-list").append($(e).find(">")).find(".added").powerTip({placement:"w",offset:15}).removeClass("added");h=!1;n[c]=a.end},"json")}var m=function(c){var a=document.createElement(c[0]),b;for(b in c[1])a.setAttribute(b,c[1][b]);if(c[2]instanceof Array)if(c[2][0]instanceof Array)for(b=0;b<c[2].length;++b)c[2][b]instanceof Array&&a.appendChild(arguments.callee(c[2][b]));
else a.appendChild(arguments.callee(c[2]));else"string"===typeof c[2]&&a.insertAdjacentHTML("BeforeEnd",c[2]);return a},d="",f=[],l=$("#sorting").val(),h=!1,n=[],k="\u691c\u7d22\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002",p=function(){var c=!1;return function(a,b){!c&&window.confirm("\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")&&(c=!0,$.post("/mypage/remove/"+b,{code_id:a},function(d){c=!1;d.error||($('[class="'+b+"-"+a+'"]').remove(),0===$('[class^="'+b+'-"]').size()&&
$("#"+b).find(".user-list").html(k))}))}}();$("#control-panel a").click(function(a){a.preventDefault();$(this).tab("show")});$(".form-nickname").submit(function(){a($("#user-nickname").val());return!1});$("#control-panel > li").mousedown(function(){var a=[];return function(){var d=$(this).find("a").attr("href").substr(1);"account"===d||a[d]||(b(d,0),a[d]=!0);"account"===d&&$("#account").find(".result").text("")}}()).click(function(){d=$(this).find("a").attr("href").substr(1);$(window).scrollTop(0)});
$(".user-list").on("mousedown",".remove",function(){p($(this).data("code-id"),$(this).data("flg"));return!1});$(".removehistory").click(function(){if(window.confirm("\u672c\u5f53\u306b\u524a\u9664\u3057\u307e\u3059\u304b\uff1f")){var a=$(this).data("history");$.post("/mypage/removehistory/"+a+".json",function(b){$("#"+a).find(".user-list").html(k)})}});$("#sorting").change(function(){l=$(this).val();f[d]=0;b("upload",f[d],l)});$(window).bind("scroll",function(){h||n[d]||(scrollHeight=$(document).height(),
scrollPosition=$(window).height()+$(window).scrollTop(),0.15>=(scrollHeight-scrollPosition)/scrollHeight&&(f[d]=(f[d]|0)+1,b(d,f[d],l)))})})});